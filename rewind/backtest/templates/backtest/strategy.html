{% extends 'backtest/layout.html' %}
{% load static %}
{% block content %}
<div class="header-bar">
    <div class="logo-box">
        <span class="logo-title">Define STRATEGY</span>
    </div>
    <div style="display: flex; gap: 24px;">
        <div class="menu-box" onclick="window.history.back()">
            <span class="menu-title">Back</span>
            <span class="back-icon">&#8592;</span>
        </div>
    </div>
</div>

<section style="background: radial-gradient(ellipse at top left, #181818 60%, #111 100%); min-height: 60vh; display: flex; align-items: center;">
    <div style="max-width: 1100px; margin: 0 auto; padding: 60px 40px;">
        <form method="POST" action="{% url 'backtest:strategy' %}">
            {% csrf_token %}
            <label for="strategy-name" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Strategy Name :</label>
            <input id="strategy-name" name="strategy_name" type="text" style="width:100%; font-size:1.2rem; padding:12px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:24px; font-family: 'Montserrat', Arial, sans-serif;" required>

            <label for="buy-condition" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Buy Condition :</label>
            <textarea id="buy-condition" name="buy_condition" rows="2" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;"></textarea>

            <label for="sell-condition" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Sell Condition :</label>
            <textarea id="sell-condition" name="sell_condition" rows="2" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;"></textarea>

            <label for="indicators" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Indicators :</label>
            <textarea id="indicators" name="indicators" rows="2" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;"></textarea>

            <label for="position-sizing" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Position Sizing :</label>
            <input id="position-sizing" name="position_sizing" type="text" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;">

            <label for="initial-cash" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Initial Cash ( in Rupees ) :</label>
            <input id="initial-cash" name="initial_cash" type="number" step="any" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;">

            <label for="commission" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Commission :</label>
            <input id="commission" name="commission" type="text" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;">

            <label for="data-source" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Data Source :</label>
            <input id="data-source" name="data_source" type="text" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;">

            <label for="stop-loss" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Stop Loss :</label>
            <input id="stop-loss" name="stop_loss" type="text" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:16px; font-family: 'Montserrat', Arial, sans-serif;">

            <label for="other-constraints" style="display:block; margin: 0 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Other Constraints :</label>
            <textarea id="other-constraints" name="other_constraints" rows="2" style="width:100%; font-size:1.1rem; padding:10px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; margin-bottom:24px; font-family: 'Montserrat', Arial, sans-serif;"></textarea>

            <div style="display: flex; gap: 20px; margin: 32px 0;">
                <button type="submit" name="action" value="backtest" style="background: #039c00; color: #fff; font-family: 'Montserrat', Arial, sans-serif; font-size: 1.1rem; font-weight: 600; border: none; border-radius: 6px; padding: 14px 32px; cursor: pointer;">
                    Run Backtesting
                </button>
                <!-- <button type="submit" name="action" value="save" style="background: #ffd600; color: #222; font-family: 'Montserrat', Arial, sans-serif; font-size: 1.1rem; font-weight: 600; border: none; border-radius: 6px; padding: 14px 32px; cursor: pointer;">
                    Save
                </button> -->
            </div>
            
            <label for="strategy-notes" style="display:block; margin: 32px 0 12px 0; font-size:1.2rem; color:#fff; font-family: 'Montserrat', Arial, sans-serif;">Notes :</label>
            <textarea id="strategy-notes" name="notes" rows="4" style="width:100%; min-height:80px; font-size:1.1rem; padding:14px; border-radius:8px; border:1px solid #444; background:#181818; color:#fff; resize:vertical; font-family: 'Montserrat', Arial, sans-serif;"></textarea>
        </form>
        <p style="font-size: 1.3rem; color: #b3b3b3; font-family: 'Montserrat', Arial, sans-serif; line-height: 1.6; font-weight: 400;">
            Please do remember that, the project is yet in development stage. Hence it is recomended not to solely depend on it and try to be as specific as possible while defining the strategy. We also allow you to tweak the python code of your strategy, where you can refine it<br>
        </p>
    </div>
</section>
{% endblock %}